<div class="carousel-animation-wrapper">
  <div class="carousel-wrapper">
    <igx-carousel [navigation]="true" [pause]="false" animationType="fade">
      <igx-slide #slide *ngFor="let item of slides$">
        <div style="height: 100%; background-color: white">
          <app-slide-add
            [slide]="item"
            [lessonId]="lessonId"
            (slideChange)="onChangeSlide($event)"
          ></app-slide-add>
        </div>
      </igx-slide>
    </igx-carousel>
  </div>
  <div class="list-wrapper">
    <div class="w-100 d-flex justify-content-center">
      <button mat-raised-button color="primary" (click)="onAddNewSlide()">
        Add new slide
      </button>
    </div>
    <igx-list displayDensity="compact" #listContainer>
      <igx-list-item
        *ngFor="let item of slides$; let i = index"
        [ngClass]="{ disabled: i !== currentIndex }"
        #dragDirRef="drag"
        igxDrop
        [igxDrag]="{ id: item.order, dragged: false }"
        (dragStart)="onDragStart($event, i)"
        (dragMove)="onDragMove($event, i)"
        (dragEnd)="onDragEnd($event, i)"
        (transitioned)="onTransitioned($event, i)"
        [ghost]="false"
        [class.dragged]="dragDirRef.data && dragDirRef.data.dragged"
      >
        <div igxListThumbnail>
          <app-slide-thumbnail
            [slide]="item"
            class="d-flex justify-content-center my-2"
          ></app-slide-thumbnail>
        </div>
      </igx-list-item>
    </igx-list>
  </div>
</div>
